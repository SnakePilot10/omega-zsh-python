# Omega-ZSH (Python Edition)

**The Ultimate Shell Manager for Linux & Android (Termux)**

Omega-ZSH is an intelligent environment configuration manager refactored in Python 3.10+ using Textual for a modern Terminal User Interface (TUI). It automates the setup of a robust and aesthetically pleasing ZSH environment, managing tools like `git`, `fzf`, `eza`, `bat`, and various ZSH plugins.

## Project Overview

*   **Type:** CLI/TUI Application (Python)
*   **Purpose:** Simplify and automate ZSH configuration and plugin management across different platforms (Debian, Arch, Fedora, Termux).
*   **Key Technologies:**
    *   **Language:** Python 3.10+
    *   **UI Framework:** [Textual](https://textual.textualize.io/)
    *   **Templating:** Jinja2 (for `.zshrc` generation)
    *   **Platform Support:** Android (Termux), Debian/Ubuntu, Arch, Fedora, Alpine.

## Architecture

The project is structured to separate core logic, platform specifics, and the user interface.

### Directory Structure

*   **`install.sh`**: Bootstrap script. Detects the OS, installs Python/venv if missing, sets up the virtual environment, installs dependencies, and launches the app.
*   **`main.py`**: The application entry point. Handles global exception logging and initializes the Textual app.
*   **`src/`**: Source code directory.
    *   **`core/`**: Business logic.
        *   `constants.py`: Definitions for plugins, themes, and external URLs.
        *   `generator.py`: Logic for generating ZSH configuration files from templates.
        *   `installer.py`: Handles package and plugin installations.
        *   `state.py`: Manages application state.
    *   **`platforms/`**: OS-abstraction layer.
        *   `base.py`: Abstract base class for platform operations.
        *   `termux.py`, `debian.py`, etc.: Concrete implementations for specific OSs.
    *   **`ui/`**: Textual UI components.
        *   `app.py`: Main `App` class definition.
        *   `screens.py`: Individual screens for the TUI (Dashboard, Plugins, Themes).
*   **`assets/`**: Static resources.
    *   `templates/`: Jinja2 templates for `.zshrc` and other config files.
    *   `themes/`: ZSH theme definitions.
*   **`.venv/`**: Python virtual environment (created by `install.sh`).
*   **`omega_crash.log`**: Log file for critical runtime errors.

### Configuration Strategy

Omega-ZSH uses a 3-layer configuration approach to ensure safety and flexibility:

1.  **`~/.zshrc` (Core)**: Automatically generated by the app. Do not edit manually.
2.  **`~/.omega-zsh/personal.zsh` (Structured)**: Managed by the app for paths and static variables.
3.  **`~/.omega-zsh/custom.zsh` (User)**: Fully manual user configuration. Loaded last.

## Usage

### Installation & Running

The recommended way to run the application is via the bootstrap script, which handles the environment setup.

```bash
chmod +x install.sh
./install.sh
```

### Development Workflow

To work on the code without reinstalling every time:

1.  **Ensure Environment:** Run `./install.sh` once to create `.venv` and install requirements.
2.  **Activate Venv:**
    ```bash
    source .venv/bin/activate
    ```
3.  **Run Directly:**
    ```bash
    python main.py
    ```

### Key Commands & Dependencies

*   **Dependencies:** Listed in `requirements.txt` (Textual, Jinja2, etc.).
*   **System Tools:** The app manages the installation of system packages like `zsh`, `curl`, `git`, `fzf`, etc., adapting to the host OS package manager (`pkg`, `apt`, `pacman`, etc.).

## Development Conventions

*   **UI/UX:** Focus on a rich TUI experience using Textual. Support mouse interaction and keyboard shortcuts.
*   **Safety:** Operations modifying user files (like `.zshrc`) must be atomic or include backup mechanisms.
*   **Platform Agnostic:** Core logic should use the `platforms/` abstraction to remain compatible across Linux distributions and Termux.
*   **Logging:** Use the configured logger in `main.py` rather than `print` for debugging, to avoid interfering with the TUI.
